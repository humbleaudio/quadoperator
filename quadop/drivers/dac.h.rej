***************
*** 16,23 ****
    ~Dac() { }
  
    void Init();
-   void __attribute__((optimize("O0"))) StartConversion();
-   void __attribute__((optimize("O0"))) SetChannels(pfloat_t value1,
      pfloat_t value2,
      pfloat_t value3,
      pfloat_t value4);
--- 16,23 ----
    ~Dac() { }
  
    void Init();
+   void StartConversion();
+   void SetChannels(pfloat_t value1,
      pfloat_t value2,
      pfloat_t value3,
      pfloat_t value4);
***************
*** 27,33 ****
  
    SAI_HandleTypeDef saiHdl_;
    DMA_HandleTypeDef dmaSaiHdl_;
-   uint32_t dmaBuf_[8];
  
    DISALLOW_COPY_AND_ASSIGN(Dac);
  };
--- 27,33 ----
  
    SAI_HandleTypeDef saiHdl_;
    DMA_HandleTypeDef dmaSaiHdl_;
+   volatile uint32_t dmaBuf_[8];
  
    DISALLOW_COPY_AND_ASSIGN(Dac);
  };
